{% set this = init(schema) %}
{% set card_replacement_image =this.data.media.image.value %}
{% set card_replacement_video =this.data.media.video.value %}

{% if horizontal and card_replacement_image %}
  {% set card_replacement_image = card_replacement_image | merge({
    ratio: false,
    cover: true,
  }) %}
{% endif %}

{% if media.content %}
  {{ media.content }}
{% else %}
  {% if card_replacement_image or block("media") %}
    <bolt-card-replacement-media {{ this.props }}>
      <ssr-keep for="bolt-card-replacement-media" class="c-bolt-card_replacement__media">
        {% if card_replacement_image %}
          {% include "@bolt-components-image/image.twig" with card_replacement_image only %}
        {% elseif block("media") %}
          {{ block("media") }}
        {% endif %}
      </ssr-keep>
    </bolt-card-replacement-media>
  {% endif %}

  {% if (card_replacement_video.videoId) %}
    {% set card_replacement_video %}
      {% include "@bolt-components-video/video.twig" with card_replacement_video only %}
    {% endset %}
  {% endif %}
  {% if card_replacement_video %}
    <bolt-card-replacement-media {{ this.props }}>
      <ssr-keep for="bolt-card-replacement-media" class="c-bolt-card_replacement__media c-bolt-card_replacement__media--video">
        {{ card_replacement_video }}
      </ssr-keep>
    </bolt-card-replacement-media>
  {% endif %}
{% endif %}
