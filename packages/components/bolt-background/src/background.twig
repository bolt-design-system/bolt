{% set schema = bolt.data.components["@bolt-components-background"].schema %}

{% if enable_json_schema_validation %}
  {{ validate_data_schema(schema, _self) | raw }}
{% endif %}

{# Variables #}
{% set this = init(schema) %}
{% set attributes = create_attribute(attributes|default({})) %}

<bolt-background bolt-component>
  <div {{ attributes.addClass(['c-bolt-background']) }}>
    {% if contentItems %}
      {% for item in contentItems %}
        {% if item %}
          {% include "@bolt-components-background/background-item.twig" %}
        {% endif %}
      {% endfor %}
    {% endif %}

    {% if this.data.overlay.value == "enabled" or this.data.shape_group.value != 'none'  %}
      <div class="{{ "c-bolt-background__item" }}">
        {% if this.data.overlay.value == "enabled" %}
          {% include "@bolt-components-background/background-overlay.twig" %}
        {% endif %}

        {% if this.data.shape_group.value != 'none' %}
          {% include "@bolt-components-background/background-shapes-wrapper.twig" %}
        {% endif %}
      </div>
    {% endif %}
  </div>
</bolt-background>
