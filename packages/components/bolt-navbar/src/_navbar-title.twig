{% set schema = bolt.data.components["@bolt-components-navbar"].schema["navbar"].properties.title %}
{% if enable_json_schema_validation %}
  {{ validate_data_schema(schema, _self)|raw }}
{% endif %}

{# Override hide_title if no text provided #}
{% if not hide_title and not text %}
  {% set hide_title = "from-xsmall-bp" %}
{% endif %}

{# Variables #}
{% set this = init(schema) %}

{# Array of classes based on the defined + default props #}
{% set classes = [
  "c-bolt-navbar__title-text",
  this.data.hide_title.value ? "c-bolt-navbar__title-text--hide-#{this.data.hide_title.value}" : ""
] %}

{% set attributes = create_attribute({}) %}
{% set title_attributes = create_attribute({}) %}

{% if url %}
  {% set attributes = attributes.setAttribute("href", url) %}
{% endif %}

{% set navbar_title %}
  {% if icon %}
    <div class="c-bolt-navbar__title-icon">
      {% include "@bolt-components-icon/icon.twig" with {
        name: icon.name,
        size: "large"
      } only %}
    </div>
  {% endif %}
  <{{ tag }} {{ title_attributes.addClass(classes) }}>
    {{ text|default("Go to"|t) }}
  </{{ tag }}>
{% endset %}

<div class="c-bolt-navbar__title">
  {% if url %}
    <a class="c-bolt-navbar__title--link" {{ attributes }}>
      {{ navbar_title }}
    </a>
  {% else %}
    <div class="c-bolt-navbar__title--static">
      {{ navbar_title }}
    </div>
  {% endif %}
</div>
