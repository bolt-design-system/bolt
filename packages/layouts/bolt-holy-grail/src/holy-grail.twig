{# Schema Validation #}
{% set schema = bolt.data.components['@bolt-layouts-holy-grail'].schema %}
{% if enable_json_schema_validation %}
  {{ validate_data_schema(schema, _self)|raw }}
{% endif %}

{# Variables #}
{% set this = init(schema) %}
{% set attributes = create_attribute(attributes|default({})) %}

{# Template #}
<bolt-holy-grail-layout 
  {{ attributes|without('gutter')|without('padding-top')|without('padding-bottom') }} 
  {% if this.data.gutter.value %}gutter="{{ this.data.gutter.value }}"{% endif %}
  {% if this.data.padding_top.value %}padding-top="{{ this.data.padding_top.value }}"{% endif %} 
  {% if this.data.padding_bottom.value %}padding-bottom="{{ this.data.padding_bottom.value }}"{% endif %}
  {% if this.data.full_bleed.value %}full-bleed{% endif %}
  data-bolt-holy-grail-layout
>
  {% if sidebar %}
    <bolt-holy-grail-sidebar {% if sidebar.auto_width %}auto-width{% endif %}>
      <button type="button" aria-expanded="false" data-bolt-holy-grail-toggle-trigger>
        <bolt-holy-grail-sidebar-trigger-text>
          {% include '@bolt-components-icon/icon.twig' with {
            name: sidebar.trigger_icon|default('documentation'),
          } only %}
          {{ sidebar.trigger_label|default('Primary Sidebar'|t)|title }}
        </bolt-holy-grail-sidebar-trigger-text>
        <bolt-holy-grail-sidebar-trigger-text close>
          {{ 'Hide'|t }} {{ sidebar.trigger_label|default('Primary Sidebar'|t)|title }}
          {% include '@bolt-components-icon/icon.twig' with {
            name: 'close',
          } only %}
        </bolt-holy-grail-sidebar-trigger-text>
      </button>
      <bolt-holy-grail-sidebar-content>
        {{ sidebar.content }}
      </bolt-holy-grail-sidebar-content>
    </bolt-holy-grail-sidebar>
  {% endif %}

  {% if secondary_sidebar %}
    <bolt-holy-grail-sidebar secondary {% if secondary_sidebar.auto_width %}auto-width{% endif %}>
      <button type="button" aria-expanded="false" data-bolt-holy-grail-toggle-trigger>
        <bolt-holy-grail-sidebar-trigger-text>
          {% include '@bolt-components-icon/icon.twig' with {
            name: secondary_sidebar.trigger_icon|default('more'),
            size: 'medium',
          } only %}
          <span class="u-bolt-visuallyhidden">{{ secondary_sidebar.trigger_label|default('Secondary Sidebar'|t)|title }}</span>
        </bolt-holy-grail-sidebar-trigger-text>
        <bolt-holy-grail-sidebar-trigger-text close>
          {{ 'Hide'|t }} {{ secondary_sidebar.trigger_label|default('Secondary Sidebar'|t)|title }}
          {% include '@bolt-components-icon/icon.twig' with {
            name: 'close',
          } only %}
        </bolt-holy-grail-sidebar-trigger-text>
      </button>
      <bolt-holy-grail-sidebar-content>
        {{ secondary_sidebar.content }}
      </bolt-holy-grail-sidebar-content>
    </bolt-holy-grail-sidebar>
  {% endif %}
  <bolt-holy-grail-article>
    <bolt-holy-grail-article-content>
      {{ content }}
    </bolt-holy-grail-article-content>
  </bolt-holy-grail-article>
</bolt-holy-grail-layout>
