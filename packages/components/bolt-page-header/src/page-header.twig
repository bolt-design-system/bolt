{% set schema = bolt.data.components['@bolt-components-page-header'].schema %}

{% if enable_json_schema_validation %}
  {{ validate_data_schema(schema, _self)|raw }}
{% endif %}

{# Variables #}
{% set this = init(schema) %}
{% set attributes = create_attribute(attributes|default({})) %}
{% set logo_attributes = create_attribute(logo.attributes|default({})) %}
{% set logo_tag = logo_attributes.type ? 'button' : logo_attributes.href ? 'a' : 'span' %}
{% set cta_attributes = create_attribute(cta.attributes|default({})) %}
{% set cta_tag = cta_attributes.type ? 'button' : cta_attributes.href ? 'a' : 'span' %}

{% set classes = [
  'c-bolt-page-header',
] %}

{% set primary_classes = [
  'c-bolt-page-header__primary',
  hide_primary_on_scroll or hide_all_on_scroll ? 'is-hidden-on-scroll'
] %}

{% set secondary_classes = [
  'c-bolt-page-header__secondary',
  hide_all_on_scroll ? 'is-hidden-on-scroll'
] %}

<header {{ attributes.addClass(classes) }}>
  <div class="{{ primary_classes|join(' ') }}">
    {% if logo %}
      <{{ logo_tag }} {{ logo_attributes.addClass('c-bolt-page-header__logo')|without('aria-label')|without('style') }} aria-label="{{ logo.label }}" {% if logo.max_width %}style="--c-bolt-page-header-logo-max-width: {{ logo.max_width }};"{% endif %}>
        <span class="c-bolt-page-header__logo__img" aria-hidden="true">
          <img src="{{ logo.image_src }}">
        </span>
      </{{ logo_tag }}>
    {% endif %}
    <div class="c-bolt-page-header__toolbar">
      {{ content }}
      {% if cta %}
        <{{ cta_tag }} {{ cta_attributes.addClass('c-bolt-page-header__cta') }}>
          {{ cta.content }}
        </{{ cta_tag }}>
      {% endif %}
    </div>
  </div>
  <div class="{{ secondary_classes|join(' ') }}">
    {{ secondary_content }}
  </div>
</header>
