{% set schema = bolt.data.components['@bolt-components-navbar'].schema['navbar'] %}
{% if enable_json_schema_validation %}
  {{ validate_data_schema(schema, _self)|raw }}
{% endif %}

{# Variables #}
{% set this = init(schema) %}
{% set uuid = this.data.uuid|default(bolt.data.config.env == 'test' ? '12345' : random() ~ '') %}
{% set attributes = create_attribute(attributes|default({})) %}
{% set inner_attributes = create_attribute({}) %}

{# Array of classes based on the defined + default props #}
{% set classes = [
  'c-bolt-navbar',
  this.data.static.value ? 'c-bolt-navbar--static' : 'c-bolt-navbar--sticky',
  this.data.full_bleed.value ? 'c-bolt-navbar--full-bleed' : '',
  this.data.center.value ? 'c-bolt-navbar--center' : '',
  this.data.theme.value and this.data.theme.value != 'none' ? 't-bolt-' ~ this.data.theme.value : ''
] %}

{% set inner_classes = [
  'c-bolt-navbar__inner',
  this.data.theme.value and this.data.theme.value != 'none' ? 't-bolt-' ~ this.data.theme.value : ''
] %}

{% for class in this.props.class %}
  {% set classes = classes|merge([class]) %}
{% endfor %}

{% if this.data.static.value %}
  {% set attributes = attributes.setAttribute('data-bolt-static', this.data.static.value) %}
{% endif %}

{% if this.data.scroll_offset_selector.value %}
  {% set attributes = attributes.setAttribute('data-bolt-scroll-offset-selector', this.data.scroll_offset_selector.value) %}
{% endif %}

{% if this.data.scroll_offset.value %}
  {% set attributes = attributes.setAttribute('data-bolt-scroll-offset', this.data.scroll_offset.value) %}
{% endif %}

{% if this.data.more_text.value %}
  {% set attributes = attributes.setAttribute('data-bolt-more-text', this.data.more_text.value|t) %}
{% endif %}

{% if title %}
  {% set title = title|merge({uuid: uuid}) %}
  {% set attributes = attributes.setAttribute('aria-labelledby', 'js-bolt-navbar-title-' ~ uuid) %}
{% endif %}

<nav {{ attributes.addClass(classes) }}>
  <div {{ inner_attributes.addClass(inner_classes) }}>
    {% if title %}
      {% include '@bolt-components-navbar/_navbar-title.twig' with title only %}
    {% endif %}
    {% if content %}
      <div class="c-bolt-navbar__list js-bolt-navbar__list" role="list">
        <div class="c-bolt-navbar__list-inner js-bolt-navbar__list-inner" role="presentation">
          {{ content }}
        </div>
      </div>
    {% endif %}
  </div>
</nav>
