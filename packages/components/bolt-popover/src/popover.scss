/* ------------------------------------ *\
   Popover
\* ------------------------------------ */
@import '@bolt/core-v3.x';
@import '@bolt/global/styles/00-vars/_vars-mode.scss';
@import '@bolt/core-v3.x/utils/tippy/index.scss';

/**
 * Register custom element
 */

//  Note: this does not actually render to the Shadow DOM so :host rule not required
bolt-popover {
  display: inline;

  &:not([ready]) [slot='content'] {
    display: none;
  }
}

/**
 * Content container
 */
.c-bolt-popover__content {
  display: block;
  // [Mai] reset font styles here so it doesn't inherit from parent container.
  font-family: var(--bolt-type-font-family-body);
  font-size: var(--bolt-type-font-size-xsmall);
  font-weight: var(--bolt-type-font-weight-regular);
  color: var(--m-bolt-text);
  line-height: var(--bolt-type-line-height-xsmall);
  text-align: start;
  white-space: nowrap;

  &.c-bolt-popover__content--text-wrap {
    // Capitalize "Min" to avoid collision with SASS function named `min()`. Remove this hack once we switch to "dart-sass".
    // @see https://css-tricks.com/when-sass-and-new-css-features-collide/#the-solution
    /* stylelint-disable function-name-case */
    width: var(--c-bolt-popover-bubble-width, Min(65vw, 250px));
    white-space: normal; // If the content is long (more than 31 characters), the bubble will have this specific width and text will wrap. This logic is in the JS and Twig files.

    @include bolt-ms-edge-42-only {
      width: var(--c-bolt-popover-bubble-width, 250px);
    }
  }
}

/**
 * Spacing prop
 */
@each $size in $bolt-spacing-multiplier-system {
  $size-name: nth($size, 1);

  .c-bolt-popover__content--spacing-#{$size-name} {
    padding: var(--bolt-spacing-y-#{$size-name})
      var(--bolt-spacing-x-#{$size-name});
  }
}
