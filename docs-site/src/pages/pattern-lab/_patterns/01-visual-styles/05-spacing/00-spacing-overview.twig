{% set spacing_size_map = bolt.data.spacing.base %}
{% set spacing_multiplier_map = bolt.data.spacing.multipliers %}
{% set spacing_property_map = bolt.data.spacing.props %}
{% set spacing_direction_map = bolt.data.spacing.directions %}

{# To make sure these numbers are up to date, make sure to check vars-typography.scss #}
{% set base_pixel = 15 %}
{% set smallbp_pixel = 14 %}
{% set largebp_pixel = 16 %}

{% set content %}
  <bolt-stack spacing="large">
    <bolt-text headline font-size="xxxlarge" tag="h1">
      Spacing
    </bolt-text>
    <bolt-text subheadline font-size="xxlarge" tag="h2">
      The spacing foundation of Bolt.
    </bolt-text>
  </bolt-stack>

  <bolt-tabs label-spacing="medium" panel-spacing="medium" inset="off">
    {% for size_name, size_value in spacing_size_map %}
      {% if size_name == "x" %}
        {% set type = "Horizontal" %}
        {% set description = "The base value of vertical spacing is based on the leading of base body text." %}
      {% else %}
        {% set type = "Vertical" %}
        {% set description = "The base value of horizontal spacing is based on the gutter of the grid." %}
      {% endif %}

      <bolt-tab-panel>
        <bolt-text slot="label">{{ type|capitalize }}</bolt-text>

        <bolt-stack spacing="medium">
          <bolt-text headline font-size="xxlarge" tag="h2">
            {{ type|capitalize }} Spacing
          </bolt-text>
          <bolt-text>
            {{ description }}
          </bolt-text>
        </bolt-stack>
        <bolt-stack spacing="medium">
          <bolt-list spacing="medium">
            {% for multiplier_name, multiplier_value in spacing_multiplier_map %}
              <bolt-list-item>
                <bolt-list display="inline" spacing="small">
                  <bolt-list-item>
                    <div class="{{ "c-bds-spacing-bar c-bds-spacing-bar--#{size_name}-#{multiplier_name}" }}"></div>
                  </bolt-list-item>
                  <bolt-list-item>
                    <bolt-text headline font-size="small">
                      {{ multiplier_name }}: {{ size_value|number_format(2,".",",") * multiplier_value|number_format(2,".",",") ~ "rem" }}
                    </bolt-text>
                  </bolt-list-item>
                </bolt-list>
              </bolt-list-item>
            {% endfor %}
          </bolt-list>
        </bolt-stack>
      </bolt-tab-panel>
    {% endfor %}

    {# Tokens #}
    <bolt-tab-panel>
      <bolt-text slot="label">Tokens</bolt-text>

      <bolt-stack spacing="medium">
        <bolt-text headline font-size="xxlarge" tag="h2">
          Spacing Tokens
        </bolt-text>
      </bolt-stack>

      {% for size_name, size_value in spacing_size_map %}
        {% if size_name == "x" %}
          {% set type = "Horizontal" %}
        {% else %}
          {% set type = "Vertical" %}
        {% endif %}

        <bolt-stack spacing="xsmall">
          <bolt-text eyebrow tag="h3">
            {{ type|capitalize }}
          </bolt-text>
        </bolt-stack>
        <bolt-stack spacing="small">
          <hr class="u-bolt-margin-none">
        </bolt-stack>
        <bolt-stack spacing="medium">
          <bolt-table>
            <table>
              <thead>
                <tr>
                  <td></td>
                  <th>SCSS function</th>
                  <th>Spacing scale</th>
                  <th>Spacing size (at 1400px viewport)*</th>
                </tr>
              </thead>
              <tbody>
                {% for multiplier_name, multiplier_value in spacing_multiplier_map %}
                  <tr>
                    <th>{{ multiplier_name }}</th>
                    <td>var(--bolt-spacing-{{ size_name }}-{{ multiplier_name }})</td>
                    <td>{{ size_value|number_format(2,".",",") * multiplier_value|number_format(2,".",",") ~ "rem" }}</td>
                    <td>
                      <bolt-tooltip>
                        {{ (size_value * multiplier_value * base_pixel)|round(0, "ceil") ~ "px" }}
                        <span slot="content">scales from {{ (size_value * multiplier_value * smallbp_pixel)|round(0, "ceil") ~ "px" }} to {{ (size_value * multiplier_value * largebp_pixel)|round(0, "ceil") ~ "px" }}</span>
                      </bolt-tooltip>
                    </td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </bolt-table>
        </bolt-stack>
      {% endfor %}

      <bolt-stack spacing="large">
        <bolt-banner align="start">
          *Spacing sizes in Bolt are responsive from 320px viewport to 1920px viewport. <bolt-link url="{{ link['viewall-visual-styles-breakpoints'] }}">View Breakpoint System<bolt-icon name="chevron-right" slot="after"></bolt-icon></bolt-link>
        </bolt-banner>
      </bolt-stack>
    </bolt-tab-panel>
  </bolt-tabs>
{% endset %}

{% include "@bolt-components-band/band.twig" with {
  content: content,
  theme: "none",
  size: "large",
} only %}
