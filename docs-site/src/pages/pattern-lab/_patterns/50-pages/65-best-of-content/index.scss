@import '@bolt/core-v3.x';

$www-quick-filters-scrollbar-height: 10px;
$www-quick-filters-shadow-size-horizontal: 1em;
$www-quick-filters-shadow-size-top: 1em;
$www-quick-filters-shadow-size-bottom: 1.5em;

.c-www-quick-filters {
  display: flex;
  justify-content: center;
  white-space: nowrap;
  width: 100%;
}

.c-www-quick-filters__list-wrapper {
  flex-basis: auto;
  flex-grow: 0;
  flex-shrink: 1;
  position: relative;
  overflow: hidden;

  &:before,
  &:after {
    content: '';
    opacity: 0;
    position: absolute;
    top: 0;
    width: var(--bolt-spacing-x-medium);
    height: calc(100% - #{$www-quick-filters-scrollbar-height});
    pointer-events: none;
    transition: opacity 0.2s ease;
  }

  // 1. Safari bug, must use rgba instead of "transparent", @see https://stackoverflow.com/questions/38391457/linear-gradient-to-transparent-bug-in-latest-safari
  &:before {
    left: 0;
    z-index: 1;
    background-image: linear-gradient(
      to left,
      rgba(255, 255, 255, 0),
      var(--m-bolt-bg)
    ); /* [1] */
  }

  &:after {
    right: 0;
    background-image: linear-gradient(
      to right,
      rgba(255, 255, 255, 0),
      var(--m-bolt-bg)
    ); /* [1] */
  }

  &.is-overflowing {
    &.not-start:before,
    &.not-end:after {
      opacity: 1;
    }
  }
}

.c-www-quick-filters__list {
  overflow-x: scroll;
  display: flex;
  margin: 0;
  scrollbar-width: thin;
  scrollbar-color: var(--bolt-color-gray) var(--bolt-color-gray-xlight);

  &::-webkit-scrollbar {
    height: $www-quick-filters-scrollbar-height;
  }

  &::-webkit-scrollbar-track {
    background: var(--bolt-color-gray-xlight);
  }

  &::-webkit-scrollbar-thumb {
    border: 3px solid var(--bolt-color-gray-xlight);
    border-radius: 6px;
    background-color: var(--bolt-color-gray);
  }
}

.c-www-quick-filters__list,
.c-www-quick-filters__more {
  padding-top: $www-quick-filters-shadow-size-top;
  padding-bottom: $www-quick-filters-shadow-size-bottom;

  .e-bolt-button--secondary {
    border: 1px solid transparent; // avoid shift when input is checked
  }
}

.c-www-quick-filters__list {
  padding-left: $www-quick-filters-shadow-size-horizontal;
}

.c-www-quick-filters__more {
  padding-right: $www-quick-filters-shadow-size-horizontal;
}

.c-www-quick-filters__list-item {
  display: flex;
  flex-wrap: nowrap;

  padding-right: var(
    --bolt-spacing-x-small
  ); // Use padding, not margin, to allow space for box-shadow

  .c-bolt-input:checked + .e-bolt-button--secondary {
    color: var(--bolt-color-navy-light);
    border: 1px solid var(--bolt-color-navy-light);
  }

  .c-bolt-input:focus + .e-bolt-button--secondary {
    transform: translate3d(0, 0, 0);
    outline: var(--bolt-focus-ring);
    outline-offset: 2px;
  }
}
