{# Schema Validation #}
{% set schema = bolt.data.components['@bolt-components-page-header'].schema %}
{% if enable_json_schema_validation %}
  {{ validate_data_schema(schema, _self)|raw }}
{% endif %}

{# Variables #}
{% set this = init(schema) %}
{% set attributes = create_attribute(attributes|default({})) %}
{% set logo_attributes = create_attribute(logo.attributes|default({})) %}
{% set logo_tag = logo_attributes.type ? 'button' : logo_attributes.href ? 'a' : 'span' %}

{% set classes = [
  'c-bolt-page-header',
  static ? 'c-bolt-page-header--static',
] %}

{# Setting the desktop breakpoint to work with JS #}
{% set breakpoint = bolt.data.breakpoints.large %}
{% if breakpoint %}
  {% set attributes = attributes.setAttribute('data-bolt-breakpoint', breakpoint) %}
{% endif %}

{# Template #}
<header {{ attributes.addClass(classes) }}>
  <div class="c-bolt-page-header__primary">
    {% if logo %}
      <{{ logo_tag }} {{ logo_attributes.addClass('c-bolt-page-header__logo')|without('aria-label')|without('style') }} aria-label="{{ logo.label }}">
        <span class="c-bolt-page-header__logo__img" aria-hidden="true">
          <img src="{{ logo.image_src }}">
        </span>
      </{{ logo_tag }}>
    {% endif %}
    <div class="c-bolt-page-header__toolbar">
      {{ content }}
      {% if cta %}
        <div class="c-bolt-page-header__cta">
          {{ cta }}
        </div>
      {% endif %}
    </div>
  </div>
  <div class="c-bolt-page-header__secondary">
    {{ secondary_content }}
  </div>
</header>
