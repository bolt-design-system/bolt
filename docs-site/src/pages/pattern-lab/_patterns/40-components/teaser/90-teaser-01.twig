{% set modal_id = 'js-bolt-modal-' ~ random() %}

{% set modal_content %}
  {% set video %}
    <video-js
      data-account='1900410236'
      data-player='4fVA8Ojzs'
      data-embed='default'
      data-video-id='4892122320001'
      controls
      data-media-title
      data-media-duration
      class="c-base-video"></video-js>
  {% endset %}

  {% include '@bolt-components-ratio/ratio.twig' with {
    children: video,
    ratio: '16/9'
  } only %}
{% endset %}

{% include '@bolt-components-modal/modal.twig' with {
  content: modal_content,
  width: 'optimal',
  spacing: 'none',
  theme: 'none',
  scroll: 'overall',
  attributes: {
    id: modal_id,
  },
} only %}

{% set like_button_content %}
  {% include '@bolt-components-link/link.twig' with {
    text: 'Like',
    icon: {
      name: 'heart-open',
      position: 'before',
    },
    type: 'button',
    isHeadline: true,
    attributes: {
      'class': 'click-me',
    }
  } only %}
{% endset %}

{% set share_menu_content %}
  {% include '@bolt-components-share/share.twig' with {
    display: 'menu',
    text: 'Share this content',
    sources: [
      {
        name: 'facebook',
        url: 'https://www.facebook.com/sharer/sharer.php?u=https://pega.com&amp;src=sdkpreparse'
      },
      {
        name: 'twitter',
        url: 'https://twitter.com/intent/tweet?url=https://pega.com&text=Sample%20Share%20Text&via=pega&hashtags=boltDesignSystemRocks!'
      },
      {
        name: 'linkedin',
        url: 'https://www.linkedin.com/shareArticle?url=https://pega.com'
      },
      {
        name: 'email',
        url: 'mailto:?&body=Sample%20Text%20--%20https%3A//pega.com'
      }
    ],
    copy_to_clipboard: {
      text_to_copy: 'https://pega.com',
    },
  } only %}
{% endset %}

{% set image %}
  {% include '@bolt-components-image/image.twig' with {
    src: '/images/content/promos/promo-16x9-ai.jpg',
    alt: 'Alt text.',
  } only %}
{% endset %}

<div class="o-bolt-grid o-bolt-grid--flex o-bolt-grid--matrix">
  <div class="o-bolt-grid__cell u-bolt-width-12/12 u-bolt-width-6/12@small u-bolt-width-4/12@medium">
    {% include '@bolt-components-teaser/teaser.twig' with {
      signifier: image,
      premium: true,
      views: '27',
      time: '4:55',
      like_button: like_button_content,
      share_menu: share_menu_content,
      headline: {
        text: 'This a video teaser',
        tag: 'h2',
        size: 'xlarge',
        link_attributes: {
          type: 'button',
          'data-bolt-modal-target': '#' ~ modal_id,
        }
      },
      type: 'video',
      description: 'Aliqua voluptate amet do laborum culpa tempor consectetur culpa consectetur ea. Ea officia quis do enim. Id consectetur dolor voluptate eu veniam anim adipisicing dolor ut occaecat officia fugiat magna reprehenderit.',
      chip_list: {
        size: 'xsmall',
        items: [
          {
            text: 'Video',
          },
          {
            text: 'Research',
          },
        ],
      }
    } only %}
  </div>
  <div class="o-bolt-grid__cell u-bolt-width-12/12 u-bolt-width-6/12@small u-bolt-width-4/12@medium">
    {% include '@bolt-components-teaser/teaser.twig' with {
      signifier: image,
      views: '160',
      time: '3 min read',
      like_button: like_button_content,
      share_menu: share_menu_content,
      headline: {
        text: 'This is a PDF teaser',
        tag: 'h2',
        size: 'xlarge',
        link_attributes: {
          href: 'https://www.pega.com'
        }
      },
      type: 'pdf',
      description: 'Aliqua voluptate amet do laborum culpa tempor consectetur culpa consectetur ea. Ea officia quis do enim. Id consectetur dolor voluptate eu veniam anim adipisicing dolor ut occaecat officia fugiat magna reprehenderit.',
      chip_list: {
        size: 'xsmall',
        items: [
          {
            text: 'White Paper',
          },
          {
            text: 'Research',
          },
        ],
      }
    } only %}
  </div>
  <div class="o-bolt-grid__cell u-bolt-width-12/12 u-bolt-width-6/12@small u-bolt-width-4/12@medium">
    {% include '@bolt-components-teaser/teaser.twig' with {
      signifier: image,
      views: '45',
      time: '10 min read',
      like_button: like_button_content,
      share_menu: share_menu_content,
      headline: {
        text: 'This is an external link teaser',
        tag: 'h2',
        size: 'xlarge',
        link_attributes: {
          href: 'https://www.pega.com'
        }
      },
      type: 'article',
      description: 'Aliqua voluptate amet do laborum culpa tempor consectetur culpa consectetur ea. Ea officia quis do enim. Id consectetur dolor voluptate eu veniam anim adipisicing dolor ut occaecat officia fugiat magna reprehenderit.',
      chip_list: {
        size: 'xsmall',
        items: [
          {
            text: 'Data Sheet',
          },
          {
            text: 'Research',
          },
        ],
      }
    } only %}
  </div>
</div>

{# Example Like Button JS #}
<script>
  document.querySelector('.click-me').addEventListener('click', function (event) {
    var _like_icon = this.firstChild;

    if ( _like_icon.getAttribute('name') == 'heart-open' ) {
      _like_icon.setAttribute('name', 'heart');
      _like_icon.setAttribute('color', 'pink');
    } else {
      _like_icon.setAttribute('name', 'heart-open');
      _like_icon.removeAttribute('color');
    }
  });
</script>
