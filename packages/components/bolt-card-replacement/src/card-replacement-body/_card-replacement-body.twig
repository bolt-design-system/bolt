{% set schema = bolt.data.components["@bolt-components-card-replacement"].schema %}

{% set this = init(schema) %}
{% set classes = [
  "c-bolt-card_replacement__body",
  "c-bolt-card_replacement__body--spacing-#{this.data.spacing.value}",
] %}

{# @todo: `content_tag` does not appear to be used, can this safely be removed? #}
{% if this.data.tag.value == "figure" %}
  {% set content_tag = "figcaption" %}
{% else %}
  {% set content_tag = "div" %}
{% endif %}

<bolt-card-replacement-body
  {{ this.props|without("class") }}>
  <ssr-keep for="bolt-card-replacement-body" class="{{ classes|join(' ') }}">

    <script>
      console.log({{ this.data.body.eyebrow.value|json_encode() }})
    </script>

    {% block body %}
      {% if body.content %}
        {{ body.content }}
      {% else %}
        {% if this.data.body.eyebrow.value %}
          {% include "@bolt-components-headline/eyebrow.twig" with {
            text: this.data.body.eyebrow.value,
          } only %}
        {% endif %}
        {% if this.data.body.headline.value %}
          {% include "@bolt-components-headline/headline.twig" with {
            text: this.data.body.headline.value,
            size: "large",
          } only %}
        {% endif %}
        {% if this.data.body.paragraph.value %}
          {% include "@bolt-components-headline/text.twig" with {
            text: this.data.body.paragraph.value,
          } only %}
        {% endif %}
      {% endif %}
    {% endblock %}
  </ssr-keep>
</bolt-card-replacement-body>
